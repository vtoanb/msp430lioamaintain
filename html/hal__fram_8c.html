<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Zigbee Module Examples: HAL/hal_fram.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Zigbee Module Examples
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d2c8373d15d2dccc509742e7e07c05d9.html">HAL</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">hal_fram.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Hardware Abstraction Layer (HAL) for the TI MSP-EXP430FR5739 and Anaren Zigbee BoosterPack.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="hal__fram_8h.html">hal_fram.h</a>&quot;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a87dabcea0809b0bb16559075ecffffa7"><td class="memItemLeft" align="right" valign="top">__interrupt void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__fram_8c.html#a87dabcea0809b0bb16559075ecffffa7">USCI_A0_ISR</a> (void)</td></tr>
<tr class="memitem:ac2a50b5b1105064b17046623a03286d2"><td class="memItemLeft" align="right" valign="top">__interrupt void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__fram_8c.html#ac2a50b5b1105064b17046623a03286d2">PORT4_ISR</a> (void)</td></tr>
<tr class="memitem:a555c96f2449b1a7cbb4c9a799319c0e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__fram_8c.html#a555c96f2449b1a7cbb4c9a799319c0e3">doNothing</a> (int8_t a)</td></tr>
<tr class="memitem:a36b1f5df38495d059d4e1c541879b8ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__fram_8c.html#a36b1f5df38495d059d4e1c541879b8ad">oscInit</a> ()</td></tr>
<tr class="memitem:abc6c00d8d65f1bed6f2ce307998dada0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__fram_8c.html#abc6c00d8d65f1bed6f2ce307998dada0">halInit</a> ()</td></tr>
<tr class="memitem:af4de2514b7778805db3815e8dd6cf09a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__fram_8c.html#af4de2514b7778805db3815e8dd6cf09a">putchar</a> (int c)</td></tr>
<tr class="memitem:a3d8659694ed715ee324a4d3ed39b36f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__fram_8c.html#a3d8659694ed715ee324a4d3ed39b36f8">halSpiInitModule</a> ()</td></tr>
<tr class="memitem:a4233504ee293a37f0c0ee7670da4f9f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__fram_8c.html#a4233504ee293a37f0c0ee7670da4f9f3">spiWrite</a> (uint8_t *bytes, uint8_t numBytes)</td></tr>
<tr class="memitem:addde1acede6ea9c4156b8072a3ab587b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__fram_8c.html#addde1acede6ea9c4156b8072a3ab587b">delayMs</a> (uint16_t delay)</td></tr>
<tr class="memitem:a232a48849e2aa6234fe5743e85a3b222"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__fram_8c.html#a232a48849e2aa6234fe5743e85a3b222">setLed</a> (uint8_t led)</td></tr>
<tr class="memitem:a5801a13917aa5f680d836b0543c4100b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__fram_8c.html#a5801a13917aa5f680d836b0543c4100b">clearLeds</a> ()</td></tr>
<tr class="memitem:ad984c42c66f7012b1b5c9b18a4e5218d"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__fram_8c.html#ad984c42c66f7012b1b5c9b18a4e5218d">toggleLed</a> (uint8_t led)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8ea0277788bcfa3a8c78da5ae61abff4"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__fram_8c.html#a8ea0277788bcfa3a8c78da5ae61abff4">debugConsoleIsr</a> )(int8_t)</td></tr>
<tr class="memitem:ac788093c014413b5b43a115745bc6d29"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__fram_8c.html#ac788093c014413b5b43a115745bc6d29">buttonIsr</a> )(int8_t)</td></tr>
<tr class="memitem:aaf473d7d866976957729b47a5554a4ad"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__fram_8c.html#aaf473d7d866976957729b47a5554a4ad">timerIsr</a> )(void)</td></tr>
<tr class="memitem:a20e13adfc540d264097a7733c36d65a7"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__fram_8c.html#a20e13adfc540d264097a7733c36d65a7">srdyIsr</a> )(void)</td></tr>
<tr class="memitem:acd982f0226c803dec387c98b2c033e84"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__fram_8c.html#acd982f0226c803dec387c98b2c033e84">wakeupFlags</a> = 0</td></tr>
<tr class="memitem:a192b1c65dd338966842225b5afcdff84"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__fram_8c.html#a192b1c65dd338966842225b5afcdff84">vloFrequency</a> = 0</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Hardware Abstraction Layer (HAL) for the TI MSP-EXP430FR5739 and Anaren Zigbee BoosterPack. </p>
<p>This file must be modified if changing hardware platforms.</p>
<p>The Zigbee Module library &amp; examples require several methods to be defined. See hal_helper documentation. Also see <a class="el" href="hal__fram_8h.html" title="public methods for hal_fram.c">hal_fram.h</a> for macros that must be defined.</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="hal__helper_8c.html" title="Utilities to assist changing hardware platforms.">hal_helper.c</a> for utilities to assist when changing hardware platforms </dd>
<dd>
"Migrating from the MSP430F2xx Family to the MSP430FR57xx Family" (slaa499) from TI </dd>
<dd>
"Migrating from the USCI Module to the eUSCI Module" (slaa522) from TI</dd></dl>
<dl class="section rcs"><dt>Rev:</dt><dd>1765 </dd></dl>
<dl class="section rcs"><dt>Author:</dt><dd>dsmith </dd></dl>
<dl class="section rcs"><dt>Date:</dt><dd>2013-03-07 14:51:02 -0800 (Thu, 07 Mar 2013) </dd></dl>
<h1><a class="anchor" id="support"></a>
Support</h1>
<p>Please refer to the wiki at www.anaren.com/air-wiki-zigbee for more information. Additional support is available via email at the following addresses:</p>
<ul>
<li>Questions on how to use the product: <a href="#" onclick="location.href='mai'+'lto:'+'AIR'+'@a'+'nar'+'en'+'.co'+'m'; return false;">AIR@a<span style="display: none;">.nosp@m.</span>nare<span style="display: none;">.nosp@m.</span>n.com</a></li>
<li>Feature requests, comments, and improvements: <a href="#" onclick="location.href='mai'+'lto:'+'fea'+'tu'+'rer'+'eq'+'ues'+'ts'+'@te'+'sl'+'aco'+'nt'+'rol'+'s.'+'com'; return false;">featu<span style="display: none;">.nosp@m.</span>rere<span style="display: none;">.nosp@m.</span>quest<span style="display: none;">.nosp@m.</span>s@te<span style="display: none;">.nosp@m.</span>slaco<span style="display: none;">.nosp@m.</span>ntro<span style="display: none;">.nosp@m.</span>ls.co<span style="display: none;">.nosp@m.</span>m</a></li>
<li>Consulting engagements: <a href="#" onclick="location.href='mai'+'lto:'+'sal'+'es'+'@te'+'sl'+'aco'+'nt'+'rol'+'s.'+'com'; return false;">sales<span style="display: none;">.nosp@m.</span>@tes<span style="display: none;">.nosp@m.</span>lacon<span style="display: none;">.nosp@m.</span>trol<span style="display: none;">.nosp@m.</span>s.com</a></li>
</ul>
<h1><a class="anchor" id="license"></a>
License</h1>
<p>Copyright (c) 2012 Tesla Controls. All rights reserved. This Software may only be used with an Anaren A2530E24AZ1, A2530E24CZ1, A2530R24AZ1, or A2530R24CZ1 module. Redistribution and use in source and binary forms, with or without modification, are subject to the Software License Agreement in the file "anaren_eula.txt"</p>
<p>YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE, NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL ANAREN MICROWAVE OR TESLA CONTROLS BE LIABLE OR OBLIGATED UNDER CONTRACT, NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSE INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.</p>
<h1><a class="anchor" id="CC2530DK"></a>
connection notes</h1>
<pre>
P1 on CC2530DK connects to RF1 on FRAM board
P2 on CC2530DK connects to RF2 on FRAM board
P1/RF1 pins:
Pin CC2530  Name    FRAM
1   GND             GND
2   n/c     
3   ccP0.4  SRDY    mspP2.4
4   ccP1.3  EN(N/C)  
5   ccP0.1  GPIO1   mspP1.0
6   ccP1.0  GPIO3   mspP1.1
7   ccP0.2          mspP1.1
8   N/C             mspP1.2
9   ccP0.3  MRDY    mspP1.2 (duplicate)
10  ccP2.1          mspP4.1
11  ccP0.0  GPIO0
12  ccP2.2          mspP2.3
13  ccP1.1  PAEN(N/C)  
14  ccP1.4  SS      mspP1.3 UCB0STE
15  ccP0.6  GPIO2
16  ccP1.5  SCLK    mspP2.2 UCB0CLK
17  ccP0.7  HGM(N/C)  
18  ccP1.6  MOSI    mspP1.6 UCB0SIMO
19  GND             GND
20  ccP1.7  MISO    mspP1.7 UCB0SOMI</pre><pre>P2/RF2
Pin CC2530          FRAM
1             
2                     GND
3
4
5
6
7   VCC             RFPWR
8
9   VCC             RFPWR
10  
11
12
13                  mspP2.0
14  
15  ccRST   reset   mspP1.0 (duplicate)
16  
17  ccP1.2  CFG0
18  ccP0.5          mspP2.7
19  ccP2.0  CFG1    mspP4.0   Tie Hi for SPI
20                  mspP3.7
</pre> </div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a5801a13917aa5f680d836b0543c4100b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clearLeds </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Turns OFF LEDs. </p>
<dl class="section post"><dt>Postcondition:</dt><dd>LEDs are turned off. </dd></dl>

</div>
</div>
<a class="anchor" id="addde1acede6ea9c4156b8072a3ab587b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void delayMs </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>delay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A fairly accurate blocking delay for waits in the millisecond range. Good for 1mSec to 1000mSec. At 1MHz, error of zero for 100mSec or 1000mSec. For 10mSec, error of 100uSec. At 1mSec, error is 20uSec. At 8MHz, error of zero for 1000mSec. Note that accuracy will depend on the clock source. MSP430F2xx internal DCO is typically +/-1%. For better timing accuracy, use a timer, or a crystal. </p>
<dl class="section pre"><dt>Precondition:</dt><dd>TICKS_PER_MS is defined correctly </dd></dl>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">delay</td><td>number of milliseconds to delay </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a555c96f2449b1a7cbb4c9a799319c0e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void doNothing </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Simple placeholder to point the function pointers to so that they don't cause mischief </p>

</div>
</div>
<a class="anchor" id="abc6c00d8d65f1bed6f2ce307998dada0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configures hardware for the particular hardware platform:</p>
<ul>
<li>Ports: sets direction, interrupts, pullup/pulldown resistors etc.</li>
<li>Holds radio in reset (active-low) </li>
</ul>

</div>
</div>
<a class="anchor" id="a3d8659694ed715ee324a4d3ed39b36f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halSpiInitModule </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the Serial Peripheral Interface (SPI) interface to the Zigbee Module (ZM). </p>
<dl class="section note"><dt>Note:</dt><dd>Maximum module SPI clock speed is 4MHz. SPI port configured for clock polarity of 0, clock phase of 0, and MSB first. </dd>
<dd>
On the FRAM board the MSP430 uses USCIB0 SPI port to communicate with the module. </dd></dl>
<dl class="section pre"><dt>Precondition:</dt><dd>SPI pins configured correctly:<ul>
<li>Clock, MOSI, MISO configured as SPI function</li>
<li>Chip Select configured as an output</li>
<li>SRDY configured as an input. </li>
</ul>
</dd></dl>
<dl class="section post"><dt>Postcondition:</dt><dd>SPI port is configured for communications with the module. </dd></dl>

</div>
</div>
<a class="anchor" id="a36b1f5df38495d059d4e1c541879b8ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oscInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes Oscillator: turns off WDT, configures MCLK = 8MHz using internal DCO &amp; sets SMCLK = 4MHz. </p>
<dl class="section see"><dt>See also:</dt><dd>MSP430FR57xx_UCS_01.c </dd></dl>

</div>
</div>
<a class="anchor" id="ac2a50b5b1105064b17046623a03286d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__interrupt void PORT4_ISR </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Port 4 interrupt service routine, called when an interrupt-enabled pin on port 4 changes state. </p>

</div>
</div>
<a class="anchor" id="af4de2514b7778805db3815e8dd6cf09a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int putchar </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send one byte via hardware UART. Required for printf() etc. in stdio.h </p>

</div>
</div>
<a class="anchor" id="a232a48849e2aa6234fe5743e85a3b222"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t setLed </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>led</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Turns ON the specified LED. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">led</td><td>the LED to turn on </td></tr>
  </table>
  </dd>
</dl>
<dl class="section post"><dt>Postcondition:</dt><dd>The specified LED is turned on. </dd></dl>
<dl class="section return"><dt>Returns:</dt><dd>0 if success, -1 if invalid LED specified </dd></dl>

</div>
</div>
<a class="anchor" id="a4233504ee293a37f0c0ee7670da4f9f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spiWrite </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>numBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends a message over SPI to the Module. The Module uses a "write-to-read" approach: to read data out, you must write data in. This is a private method that gets wrapped by other methods, e.g. spiSreq(), spiAreq, etc. To Write, set *bytes and numBytes. To Read, set *bytes only. Don't need to set numBytes because the Module will stop when no more bytes are received. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">bytes</td><td>the data to be sent or received. </td></tr>
    <tr><td class="paramname">numBytes</td><td>the number of bytes to be sent. This same buffer will be overwritten with the received data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition:</dt><dd>SPI port configured for the Module and Module has been initialized properly </dd></dl>
<dl class="section post"><dt>Postcondition:</dt><dd>bytes contains received data, if any </dd></dl>

</div>
</div>
<a class="anchor" id="ad984c42c66f7012b1b5c9b18a4e5218d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t toggleLed </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>led</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Toggles the specified LED. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">led</td><td>the LED to toggle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section post"><dt>Postcondition:</dt><dd>The specified LED is toggled. </dd></dl>
<dl class="section return"><dt>Returns:</dt><dd>0 if success, -1 if invalid LED specified </dd></dl>

</div>
</div>
<a class="anchor" id="a87dabcea0809b0bb16559075ecffffa7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__interrupt void USCI_A0_ISR </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Debug console interrupt service routine, called when a byte is received on USCIA0. </p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ac788093c014413b5b43a115745bc6d29"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* buttonIsr)(int8_t)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Function pointer for the ISR called when the button is pressed. 
</pre><p> Parameter is which button was pressed. </p>

</div>
</div>
<a class="anchor" id="a8ea0277788bcfa3a8c78da5ae61abff4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* debugConsoleIsr)(int8_t)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This is a function pointer for the Interrupt Service Routine called when a debug console character is received.
</pre><p> To use it, declare it with <code> extern void (*debugConsoleIsr)(char); </code> and then point it to a function you created, e.g. <code> debugConsoleIsr =  </code> and your function <a class="el" href="example__network__explorer_8c.html#a380fc05105ca76598ce5f0d5337ce19c">handleDebugConsoleInterrupt()</a> will be called when a byte is received on the debug serial port. </p>

</div>
</div>
<a class="anchor" id="a20e13adfc540d264097a7733c36d65a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* srdyIsr)(void)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function pointer for the ISR called when a SRDY interrupt occurs </p>

</div>
</div>
<a class="anchor" id="aaf473d7d866976957729b47a5554a4ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* timerIsr)(void)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function pointer for the ISR called when a timer generates an interrupt </p>

</div>
</div>
<a class="anchor" id="a192b1c65dd338966842225b5afcdff84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t vloFrequency = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The post-calibrated frequency of the Very Low Oscillator (VLO). 
</pre><p> This MUST be calibrated by <a class="el" href="hal__ek-lm4f120_x_l_8c.html#a14df2a9ef70dacfe536dca20da0c41b0">calibrateVlo()</a> prior to use. Set with <a class="el" href="hal__ek-lm4f120_x_l_8c.html#a14df2a9ef70dacfe536dca20da0c41b0">calibrateVlo()</a> and read by <a class="el" href="hal__ek-lm4f120_x_l_8c.html#ae0e1e0c1a44a276132f333945b102968">initTimer()</a>. </p>

</div>
</div>
<a class="anchor" id="acd982f0226c803dec387c98b2c033e84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t wakeupFlags = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Flags to indicate when to wake up the processor. These are read in the various ISRs. 
</pre><p> If the flag is set then the processor will be woken up with HAL_WAKEUP() at the end of the ISR. This is required because HAL_WAKEUP() cannot be called anywhere except in an ISR. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 20 2014 15:34:13 for Zigbee Module Examples by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.1
</small></address>
</body>
</html>
