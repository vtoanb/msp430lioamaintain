<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Zigbee Module Examples: HAL/hal_launchpad.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Zigbee Module Examples
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d2c8373d15d2dccc509742e7e07c05d9.html">HAL</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">hal_launchpad.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Hardware Abstraction Layer (HAL) for the TI LaunchPad and Anaren Zigbee BoosterPack.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="hal__launchpad_8h.html">hal_launchpad.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="hal__version_8h.html">hal_version.h</a>&quot;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a92a5921d766c66a3bfa2a52a8ff634d7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a92a5921d766c66a3bfa2a52a8ff634d7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>REF2_5V_VOLTAGE_MV</b>&#160;&#160;&#160;2500l</td></tr>
<tr class="memitem:a40b3214a121cb066133c4606019394cd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a40b3214a121cb066133c4606019394cd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>VCC_DIVIDED_BY_2</b>&#160;&#160;&#160;2</td></tr>
<tr class="memitem:ae579c2aa77544dec08a44511ed3cdb9b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae579c2aa77544dec08a44511ed3cdb9b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ADC_TO_MV_MULTIPLIER</b>&#160;&#160;&#160;(REF2_5V_VOLTAGE_MV * VCC_DIVIDED_BY_2)</td></tr>
<tr class="memitem:a848a94a66500eaa5493f9a235bd8a3dc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a848a94a66500eaa5493f9a235bd8a3dc">TIMER_MAX_SECONDS</a>&#160;&#160;&#160;4</td></tr>
<tr class="memitem:aa25a328ca5fdddf84621f030760df6f3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa25a328ca5fdddf84621f030760df6f3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RED_PWM</b>&#160;&#160;&#160;TA1CCR1</td></tr>
<tr class="memitem:a8b1e4691fa5a9f34425572e5457725bf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8b1e4691fa5a9f34425572e5457725bf"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BLUE_PWM</b>&#160;&#160;&#160;TA0CCR1</td></tr>
<tr class="memitem:a604d016ddc091133f756c04ffb95e15f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a604d016ddc091133f756c04ffb95e15f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GREEN_PWM</b>&#160;&#160;&#160;TA1CCR2</td></tr>
<tr class="memitem:a16b8cf4481f41cd260c7a4cfc91f4e18"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a16b8cf4481f41cd260c7a4cfc91f4e18"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>COLOR_BALANCE_RED</b>&#160;&#160;&#160;(0.27f)</td></tr>
<tr class="memitem:a0888a7b6d3e13f418a06dbce327db52b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0888a7b6d3e13f418a06dbce327db52b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>COLOR_BALANCE_BLUE</b>&#160;&#160;&#160;(0.75f)</td></tr>
<tr class="memitem:a9ecd57ebb614728844866b019e770649"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9ecd57ebb614728844866b019e770649"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>COLOR_BALANCE_GREEN</b>&#160;&#160;&#160;(1.0f)</td></tr>
<tr class="memitem:a8ea0277788bcfa3a8c78da5ae61abff4"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a8ea0277788bcfa3a8c78da5ae61abff4">debugConsoleIsr</a> )(int8_t)</td></tr>
<tr class="memitem:ac788093c014413b5b43a115745bc6d29"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#ac788093c014413b5b43a115745bc6d29">buttonIsr</a> )(int8_t)</td></tr>
<tr class="memitem:aaf473d7d866976957729b47a5554a4ad"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#aaf473d7d866976957729b47a5554a4ad">timerIsr</a> )(void)</td></tr>
<tr class="memitem:a20e13adfc540d264097a7733c36d65a7"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a20e13adfc540d264097a7733c36d65a7">srdyIsr</a> )(void)</td></tr>
<tr class="memitem:a64c079d31afe7d2e4d7bd2822c8cebb5"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a64c079d31afe7d2e4d7bd2822c8cebb5">sysTickIsr</a> )(void)</td></tr>
<tr class="memitem:acd982f0226c803dec387c98b2c033e84"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#acd982f0226c803dec387c98b2c033e84">wakeupFlags</a> = 0</td></tr>
<tr class="memitem:a192b1c65dd338966842225b5afcdff84"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a192b1c65dd338966842225b5afcdff84">vloFrequency</a> = 0</td></tr>
<tr class="memitem:af4de2514b7778805db3815e8dd6cf09a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#af4de2514b7778805db3815e8dd6cf09a">putchar</a> (int c)</td></tr>
<tr class="memitem:a1c27b12dfd9998dbc915bee092a83447"><td class="memItemLeft" align="right" valign="top">__interrupt void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a1c27b12dfd9998dbc915bee092a83447">USCIAB0RX_ISR</a> (void)</td></tr>
<tr class="memitem:a30a6a305ab51297fa0e5020249726b20"><td class="memItemLeft" align="right" valign="top">__interrupt void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a30a6a305ab51297fa0e5020249726b20">PORT1_ISR</a> (void)</td></tr>
<tr class="memitem:a6ddfaf32b7620184897c858c576dc5a3"><td class="memItemLeft" align="right" valign="top">__interrupt void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a6ddfaf32b7620184897c858c576dc5a3">PORT2_ISR</a> (void)</td></tr>
<tr class="memitem:aad6ebd62a25c0f41437e5c0eb20d8f39"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#aad6ebd62a25c0f41437e5c0eb20d8f39">buttonIsPressed</a> (uint8_t button)</td></tr>
<tr class="memitem:a36b1f5df38495d059d4e1c541879b8ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a36b1f5df38495d059d4e1c541879b8ad">oscInit</a> ()</td></tr>
<tr class="memitem:a88989ee5b8e22c8824a6998cebeb41ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a88989ee5b8e22c8824a6998cebeb41ce">portInit</a> ()</td></tr>
<tr class="memitem:a795fafb44f9407ea710a1e64cb06eb5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a795fafb44f9407ea710a1e64cb06eb5d">halUartInit</a> ()</td></tr>
<tr class="memitem:a6d2ae46e53ca384472c7c54d3a75ef38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a6d2ae46e53ca384472c7c54d3a75ef38">displayVersion</a> ()</td></tr>
<tr class="memitem:abc6c00d8d65f1bed6f2ce307998dada0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#abc6c00d8d65f1bed6f2ce307998dada0">halInit</a> ()</td></tr>
<tr class="memitem:a3d8659694ed715ee324a4d3ed39b36f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a3d8659694ed715ee324a4d3ed39b36f8">halSpiInitModule</a> ()</td></tr>
<tr class="memitem:a4233504ee293a37f0c0ee7670da4f9f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a4233504ee293a37f0c0ee7670da4f9f3">spiWrite</a> (uint8_t *bytes, uint8_t numBytes)</td></tr>
<tr class="memitem:addde1acede6ea9c4156b8072a3ab587b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#addde1acede6ea9c4156b8072a3ab587b">delayMs</a> (uint16_t delay)</td></tr>
<tr class="memitem:a232a48849e2aa6234fe5743e85a3b222"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a232a48849e2aa6234fe5743e85a3b222">setLed</a> (uint8_t led)</td></tr>
<tr class="memitem:a41737d11c2f052624d53cbe726db88fd"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a41737d11c2f052624d53cbe726db88fd">clearLed</a> (uint8_t led)</td></tr>
<tr class="memitem:a5801a13917aa5f680d836b0543c4100b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a5801a13917aa5f680d836b0543c4100b">clearLeds</a> ()</td></tr>
<tr class="memitem:ad984c42c66f7012b1b5c9b18a4e5218d"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#ad984c42c66f7012b1b5c9b18a4e5218d">toggleLed</a> (uint8_t led)</td></tr>
<tr class="memitem:affe619809b92fd0436ce33b1bb4bf853"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#affe619809b92fd0436ce33b1bb4bf853">getVcc3</a> ()</td></tr>
<tr class="memitem:a212a121e90ffbe1ac2ab16f1b98ea90f"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a212a121e90ffbe1ac2ab16f1b98ea90f">getCurrentSensor</a> ()</td></tr>
<tr class="memitem:a0bcdfa542b9eedd41663f2e335f5fc98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a0bcdfa542b9eedd41663f2e335f5fc98">halSetAllPinsToInputs</a> (void)</td></tr>
<tr class="memitem:a16e2e1e1521cf0558b24239657d110d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a16e2e1e1521cf0558b24239657d110d4">halSetWakeupFlags</a> (uint16_t wakeupFlagsToSet)</td></tr>
<tr class="memitem:a295205869fd3a95feb03cf5fc1c3dc1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a295205869fd3a95feb03cf5fc1c3dc1f">halClearWakeupFlags</a> (uint16_t wakeupFlagsToClear)</td></tr>
<tr class="memitem:ae0e1e0c1a44a276132f333945b102968"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#ae0e1e0c1a44a276132f333945b102968">initTimer</a> (uint8_t seconds)</td></tr>
<tr class="memitem:aa6f6bfef028c7b053444cbd48567d286"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#aa6f6bfef028c7b053444cbd48567d286">stopTimer</a> ()</td></tr>
<tr class="memitem:a13d951c1c4b5d062223a92d010252273"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a13d951c1c4b5d062223a92d010252273">initSysTick</a> (void)</td></tr>
<tr class="memitem:ac6e80bdf33b7d96bf2ed52ecbf08423a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac6e80bdf33b7d96bf2ed52ecbf08423a"></a>
__interrupt void&#160;</td><td class="memItemRight" valign="bottom"><b>watchdog_timer</b> (void)</td></tr>
<tr class="memitem:abd56b9af5c5095f207b79b18e07c547c"><td class="memItemLeft" align="right" valign="top">__interrupt void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#abd56b9af5c5095f207b79b18e07c547c">Timer_A0</a> (void)</td></tr>
<tr class="memitem:a14df2a9ef70dacfe536dca20da0c41b0"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a14df2a9ef70dacfe536dca20da0c41b0">calibrateVlo</a> ()</td></tr>
<tr class="memitem:a1cdf26ecfc086ce748135a1c0fe63e82"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a1cdf26ecfc086ce748135a1c0fe63e82">halUartBusy</a> ()</td></tr>
<tr class="memitem:a4c608ed5357ad279bc7816a2cc2571c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a4c608ed5357ad279bc7816a2cc2571c4">halRgbLedPwmInit</a> ()</td></tr>
<tr class="memitem:a6d9c0bb63cf2ef99b8d2f7a702776f0e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a6d9c0bb63cf2ef99b8d2f7a702776f0e">halRgbSetLeds</a> (uint8_t <a class="el" href="example__config__application__coordinator__afzdo_8c.html#ad47d918910aaa51c73160ac85999d09c">red</a>, uint8_t blue, uint8_t green)</td></tr>
<tr class="memitem:a095907e4a8ace5a616f49e7f3a4b1ccc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__launchpad_8c.html#a095907e4a8ace5a616f49e7f3a4b1ccc">halRgbLedTest</a> ()</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Hardware Abstraction Layer (HAL) for the TI LaunchPad and Anaren Zigbee BoosterPack. </p>
<p>Hardware Abstraction Layer (HAL) for the TI MSP-EXP430F5529LP and Anaren Zigbee BoosterPack.</p>
<p>This file must be modified if changing hardware platforms. Based on hal_mdb2.c</p>
<p>The Zigbee Module library &amp; examples require several methods to be defined. See hal_helper documentation. Also see <a class="el" href="hal__launchpad_8h.html" title="public methods for hal_launchpad.c">hal_launchpad.h</a> for macros that must be defined.</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="hal__helper_8c.html" title="Utilities to assist changing hardware platforms.">hal_helper.c</a> for utilities to assist when changing hardware platforms</dd></dl>
<p>Clocking: SMCLK: 4MHz (see <a class="el" href="hal__ek-lm4f120_x_l_8c.html#a36b1f5df38495d059d4e1c541879b8ad">oscInit()</a>), sources the following:</p>
<ul>
<li>UART - see <a class="el" href="hal__ek-lm4f120_x_l_8c.html#a795fafb44f9407ea710a1e64cb06eb5d">halUartInit()</a></li>
<li>SPI - see <a class="el" href="hal__ek-lm4f120_x_l_8c.html#a3d8659694ed715ee324a4d3ed39b36f8">halSpiInitModule()</a></li>
<li>PWM for RGB LEDs ACLK: Sourced by VLO, ~12kHz</li>
<li><p class="startli">Timer - see <a class="el" href="hal__ek-lm4f120_x_l_8c.html#ae0e1e0c1a44a276132f333945b102968">initTimer()</a></p>
<dl class="section rcs"><dt>Rev:</dt><dd>1911 </dd></dl>
<dl class="section rcs"><dt>Author:</dt><dd>dsmith </dd></dl>
<dl class="section rcs"><dt>Date:</dt><dd>2013-09-23 13:53:16 -0700 (Mon, 23 Sep 2013) </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="support"></a>
Support</h1>
<p>Please refer to the wiki at www.anaren.com/air-wiki-zigbee for more information. Additional support is available via email at the following addresses:</p>
<ul>
<li>Questions on how to use the product: <a href="#" onclick="location.href='mai'+'lto:'+'AIR'+'@a'+'nar'+'en'+'.co'+'m'; return false;">AIR@a<span style="display: none;">.nosp@m.</span>nare<span style="display: none;">.nosp@m.</span>n.com</a></li>
<li>Feature requests, comments, and improvements: <a href="#" onclick="location.href='mai'+'lto:'+'fea'+'tu'+'rer'+'eq'+'ues'+'ts'+'@te'+'sl'+'aco'+'nt'+'rol'+'s.'+'com'; return false;">featu<span style="display: none;">.nosp@m.</span>rere<span style="display: none;">.nosp@m.</span>quest<span style="display: none;">.nosp@m.</span>s@te<span style="display: none;">.nosp@m.</span>slaco<span style="display: none;">.nosp@m.</span>ntro<span style="display: none;">.nosp@m.</span>ls.co<span style="display: none;">.nosp@m.</span>m</a></li>
<li>Consulting engagements: <a href="#" onclick="location.href='mai'+'lto:'+'sal'+'es'+'@te'+'sl'+'aco'+'nt'+'rol'+'s.'+'com'; return false;">sales<span style="display: none;">.nosp@m.</span>@tes<span style="display: none;">.nosp@m.</span>lacon<span style="display: none;">.nosp@m.</span>trol<span style="display: none;">.nosp@m.</span>s.com</a></li>
</ul>
<h1><a class="anchor" id="license"></a>
License</h1>
<p>Copyright (c) 2012 Tesla Controls. All rights reserved. This Software may only be used with an Anaren A2530E24AZ1, A2530E24CZ1, A2530R24AZ1, or A2530R24CZ1 module. Redistribution and use in source and binary forms, with or without modification, are subject to the Software License Agreement in the file "anaren_eula.txt"</p>
<p>YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE, NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL ANAREN MICROWAVE OR TESLA CONTROLS BE LIABLE OR OBLIGATED UNDER CONTRACT, NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSE INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.</p>
<p>This file must be modified if changing hardware platforms. Based on hal_mdb2.c</p>
<p>The Zigbee Module library &amp; examples require several methods to be defined. See hal_helper documentation. Also see <a class="el" href="hal__launchpad_8h.html" title="public methods for hal_launchpad.c">hal_launchpad.h</a> for macros that must be defined.</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="hal__helper_8c.html" title="Utilities to assist changing hardware platforms.">hal_helper.c</a> for utilities to assist when changing hardware platforms</dd></dl>
<p>Clocking: SMCLK: 4MHz (see <a class="el" href="hal__ek-lm4f120_x_l_8c.html#a36b1f5df38495d059d4e1c541879b8ad">oscInit()</a>), sources the following:</p>
<ul>
<li>UART - see <a class="el" href="hal__ek-lm4f120_x_l_8c.html#a795fafb44f9407ea710a1e64cb06eb5d">halUartInit()</a></li>
<li>SPI - see <a class="el" href="hal__ek-lm4f120_x_l_8c.html#a3d8659694ed715ee324a4d3ed39b36f8">halSpiInitModule()</a></li>
<li>PWM for RGB LEDs ACLK: Sourced by XT1, 32.768KHz</li>
<li><p class="startli">Timer - see <a class="el" href="hal__ek-lm4f120_x_l_8c.html#ae0e1e0c1a44a276132f333945b102968">initTimer()</a></p>
<dl class="section rcs"><dt>Rev:</dt><dd>1911 </dd></dl>
<dl class="section rcs"><dt>Author:</dt><dd>dsmith </dd></dl>
<dl class="section rcs"><dt>Date:</dt><dd>2013-09-23 13:53:16 -0700 (Mon, 23 Sep 2013) </dd></dl>
</li>
</ul>
<h1><a class="anchor" id="support"></a>
Support</h1>
<p>Please refer to the wiki at www.anaren.com/air-wiki-zigbee for more information. Additional support is available via email at the following addresses:</p>
<ul>
<li>Questions on how to use the product: <a href="#" onclick="location.href='mai'+'lto:'+'AIR'+'@a'+'nar'+'en'+'.co'+'m'; return false;">AIR@a<span style="display: none;">.nosp@m.</span>nare<span style="display: none;">.nosp@m.</span>n.com</a></li>
<li>Feature requests, comments, and improvements: <a href="#" onclick="location.href='mai'+'lto:'+'fea'+'tu'+'rer'+'eq'+'ues'+'ts'+'@te'+'sl'+'aco'+'nt'+'rol'+'s.'+'com'; return false;">featu<span style="display: none;">.nosp@m.</span>rere<span style="display: none;">.nosp@m.</span>quest<span style="display: none;">.nosp@m.</span>s@te<span style="display: none;">.nosp@m.</span>slaco<span style="display: none;">.nosp@m.</span>ntro<span style="display: none;">.nosp@m.</span>ls.co<span style="display: none;">.nosp@m.</span>m</a></li>
<li>Consulting engagements: <a href="#" onclick="location.href='mai'+'lto:'+'sal'+'es'+'@te'+'sl'+'aco'+'nt'+'rol'+'s.'+'com'; return false;">sales<span style="display: none;">.nosp@m.</span>@tes<span style="display: none;">.nosp@m.</span>lacon<span style="display: none;">.nosp@m.</span>trol<span style="display: none;">.nosp@m.</span>s.com</a></li>
</ul>
<h1><a class="anchor" id="license"></a>
License</h1>
<p>Copyright (c) 2012 Tesla Controls. All rights reserved. This Software may only be used with an Anaren A2530E24AZ1, A2530E24CZ1, A2530R24AZ1, or A2530R24CZ1 module. Redistribution and use in source and binary forms, with or without modification, are subject to the Software License Agreement in the file "anaren_eula.txt"</p>
<p>YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE, NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL ANAREN MICROWAVE OR TESLA CONTROLS BE LIABLE OR OBLIGATED UNDER CONTRACT, NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSE INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS. </p>
</div><hr/><h2>Macro Definition Documentation</h2>
<a class="anchor" id="a848a94a66500eaa5493f9a235bd8a3dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIMER_MAX_SECONDS&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The longest delay allowed by the timer, in seconds. </p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aad6ebd62a25c0f41437e5c0eb20d8f39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t buttonIsPressed </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>button</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Whether the selected button is pressed. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">button</td><td>which button - must be ANY_BUTTON or BUTTON_0 on this implementation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>&gt;0 if the selected button is pressed, otherwise 0. </dd></dl>

</div>
</div>
<a class="anchor" id="a14df2a9ef70dacfe536dca20da0c41b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t calibrateVlo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calibrate VLO. Once this is done, the VLO can be used semi-accurately for timers etc. Once calibrated, VLO is within ~2% of actual when using a 1% calibrated DCO frequency and temperature and supply voltage remain unchanged. </p>
<dl class="section return"><dt>Returns:</dt><dd>VLO frequency (number of VLO counts in 1sec), or -1 if out of range </dd></dl>
<dl class="section pre"><dt>Precondition:</dt><dd>SMCLK is 4MHz </dd>
<dd>
MCLK is 8MHz </dd>
<dd>
ACLK sourced by VLO (BCSCTL3 = LFXT1S_2 in MSP430F2xxx) </dd></dl>
<dl class="section note"><dt>Note:</dt><dd>Calibration is only as good as MCLK source. Obviously, if using the internal DCO (+/- 1%) then this value will only be as good as +/- 1%. YMMV. </dd>
<dd>
On MSP430F248 or MSP430F22x2 or MSP430F22x4, must use TACCR2. On MSP430F20x2, must use TACCR0. On MSP430G2553, must use CCI0B on CCR0 Check device-specific datasheet to see which module block has ACLK as a compare input. Modify TACCTLx, TACCRx, and CCIS_x accordingly For example, see page 23 of the MSP430F24x datasheet or page 17 of the MSP430F20x2 datasheet, or page 18 of the MSP430F22x4 datasheet. </dd>
<dd>
If application will require accuracy over change in temperature or supply voltage, recommend calibrating VLO more often. </dd></dl>
<dl class="section post"><dt>Postcondition:</dt><dd>Timer A settings restored to what they were beforehand except for TACCR0 which is reset. </dd></dl>

</div>
</div>
<a class="anchor" id="a41737d11c2f052624d53cbe726db88fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t clearLed </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>led</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Turns OFF the specified LED. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">led</td><td>the LED to turn off </td></tr>
  </table>
  </dd>
</dl>
<dl class="section post"><dt>Postcondition:</dt><dd>The specified LED is turned off. </dd></dl>
<dl class="section return"><dt>Returns:</dt><dd>0 if success, -1 if invalid LED specified </dd></dl>

</div>
</div>
<a class="anchor" id="a5801a13917aa5f680d836b0543c4100b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clearLeds </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Turns OFF LEDs. </p>
<dl class="section post"><dt>Postcondition:</dt><dd>LEDs are turned off. </dd></dl>

</div>
</div>
<a class="anchor" id="addde1acede6ea9c4156b8072a3ab587b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void delayMs </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>delay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A fairly accurate blocking delay for waits in the millisecond range. Good for 1mSec to 1000mSec. </p>
<dl class="section note"><dt>Note:</dt><dd>At 1MHz, error of zero for 100mSec or 1000mSec. For 10mSec, error of 100uSec. At 1mSec, error is 20uSec. </dd>
<dd>
At 8MHz, error of zero for 1000mSec. </dd>
<dd>
Accuracy will depend on the clock source. MSP430F2xx internal DCO is typically +/-1%. For better timing accuracy, use a timer, or a crystal. </dd></dl>
<dl class="section pre"><dt>Precondition:</dt><dd>TICKS_PER_MS is defined correctly for the clock setting used. </dd></dl>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">delay</td><td>number of milliseconds to delay </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6d2ae46e53ca384472c7c54d3a75ef38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void displayVersion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Display information about this driver firmware </p>

</div>
</div>
<a class="anchor" id="a212a121e90ffbe1ac2ab16f1b98ea90f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t getCurrentSensor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads the current sense amplifier output using the Analog to Digital Converter (ADC). Current sense resistor is 0.2 ohms, amplifier multiplies voltage drop by 50. Therefore, every mA of current translates into 10mV measured by MSP430. ADC clocked by ADC10OSC </p>
<dl class="section note"><dt>Note:</dt><dd>Current sense input is on P1.4/A4 on MSP430G2553 </dd></dl>
<dl class="section pre"><dt>Precondition:</dt><dd>Current sense shunt is installed on the BoosterPack </dd></dl>
<dl class="section return"><dt>Returns:</dt><dd>Current in mA multiplied by 10 (e.g. return value of 713 = 71.3mA) </dd></dl>

</div>
</div>
<a class="anchor" id="affe619809b92fd0436ce33b1bb4bf853"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t getVcc3 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads the MSP430 supply voltage using the Analog to Digital Converter (ADC) and internal voltage reference. ADC clocked by ADC10OSC </p>
<dl class="section return"><dt>Returns:</dt><dd>Vcc supply voltage, in millivolts </dd></dl>

</div>
</div>
<a class="anchor" id="a295205869fd3a95feb03cf5fc1c3dc1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halClearWakeupFlags </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>wakeupFlagsToClear</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>No flags will wakeup the processor while it is sleeping. </p>

</div>
</div>
<a class="anchor" id="abc6c00d8d65f1bed6f2ce307998dada0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configures hardware for the particular hardware platform:</p>
<ul>
<li>Ports: sets direction, interrupts, pullup/pulldown resistors etc.</li>
<li>Holds radio in reset (active-low)</li>
</ul>
<dl class="section post"><dt>Postcondition:</dt><dd>the board is configured for proper operation. </dd></dl>

</div>
</div>
<a class="anchor" id="a4c608ed5357ad279bc7816a2cc2571c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halRgbLedPwmInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the PWM engine used for the RGB LED. This allows the RGB LED to display many colors. </p>
<dl class="section post"><dt>Postcondition:</dt><dd>RGB LED may be used, with <a class="el" href="hal__ek-lm4f120_x_l_8c.html#a6d9c0bb63cf2ef99b8d2f7a702776f0e">halRgbSetLeds()</a>. </dd></dl>
<dl class="section note"><dt>Note:</dt><dd>Uses SMCLK and Timer modules TA1 and TA0. </dd></dl>

</div>
</div>
<a class="anchor" id="a095907e4a8ace5a616f49e7f3a4b1ccc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halRgbLedTest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Simple test of RGB LED. </p>

</div>
</div>
<a class="anchor" id="a6d9c0bb63cf2ef99b8d2f7a702776f0e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halRgbSetLeds </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>red</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>blue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>green</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets RGB LED color to the selected values. Adjusts intensities so that illuminance of each color is even. This way calling the function with (0xFF, 0xFF, 0xFF) will result in a fairly good white. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">red</td><td>the amount of red - 0 to 0xFF </td></tr>
    <tr><td class="paramname">blue</td><td>the amount of blue - 0 to 0xFF </td></tr>
    <tr><td class="paramname">green</td><td>the amount of green - 0 to 0xFF </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition:</dt><dd><a class="el" href="hal__ek-lm4f120_x_l_8c.html#a4c608ed5357ad279bc7816a2cc2571c4">halRgbLedPwmInit()</a> has been called to initialize the PWM engine. </dd></dl>
<dl class="section post"><dt>Postcondition:</dt><dd>RGB LED displays the selected colors. </dd></dl>

</div>
</div>
<a class="anchor" id="a0bcdfa542b9eedd41663f2e335f5fc98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halSetAllPinsToInputs </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configures all module interface signals as inputs to allow the module to be programmed. Toggles LED0 quickly to indicate application is running. </p>

</div>
</div>
<a class="anchor" id="a16e2e1e1521cf0558b24239657d110d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halSetWakeupFlags </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>wakeupFlagsToSet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configures which events will wake up the processor if sleeping. </p>

</div>
</div>
<a class="anchor" id="a3d8659694ed715ee324a4d3ed39b36f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halSpiInitModule </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the Serial Peripheral Interface (SPI) interface to the Zigbee Module (ZM). </p>
<dl class="section note"><dt>Note:</dt><dd>Maximum module SPI clock speed is 4MHz. SPI port configured for clock polarity of 0, clock phase of 0, and MSB first. </dd>
<dd>
On the MDB2 the MSP430 uses USCIB0 SPI port to communicate with the module. </dd></dl>
<dl class="section pre"><dt>Precondition:</dt><dd>SPI pins configured correctly:<ul>
<li>Clock, MOSI, MISO configured as SPI function</li>
<li>Chip Select configured as an output</li>
<li>SRDY configured as an input. </li>
</ul>
</dd></dl>
<dl class="section post"><dt>Postcondition:</dt><dd>SPI port is configured for communications with the module. </dd></dl>
<dl class="section note"><dt>Note:</dt><dd>this function is not required if using the UART to communicate with the module </dd></dl>

</div>
</div>
<a class="anchor" id="a1cdf26ecfc086ce748135a1c0fe63e82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t halUartBusy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Required for compatibility with processors (like Stellaris) that have a UART FIFO </p>

</div>
</div>
<a class="anchor" id="a795fafb44f9407ea710a1e64cb06eb5d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halUartInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize UART debug console for I/O. Configures the USCI in the processor to use UART mode. </p>
<dl class="section post"><dt>Postcondition:</dt><dd>UART may be used by <a class="el" href="printf_8c.html#af4de2514b7778805db3815e8dd6cf09a">putchar()</a> etc. </dd></dl>
<dl class="section note"><dt>Note:</dt><dd>LaunchPad debugger can only handle 9600 baud, no faster </dd></dl>

</div>
</div>
<a class="anchor" id="a13d951c1c4b5d062223a92d010252273"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initSysTick </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the systick interval timer. Default Interval is approximately 8mSec and is not adjustable because we are using the watchdog timer which has fixed timeout periods. </p>
<dl class="section note"><dt>Note:</dt><dd>we are using the Watchdog Timer module to be a timer, not a classic watchdog. This is because we need the systick function at the same time as the PWM. The PWM uses all the normal timer modules on the microcontroller so we have to use the WDT module instead. If you aren't using PWM then we recommend just using <a class="el" href="hal__ek-lm4f120_x_l_8c.html#ae0e1e0c1a44a276132f333945b102968">initTimer()</a> instead. </dd>
<dd>
WDT sourced from SMCLK </dd></dl>

</div>
</div>
<a class="anchor" id="ae0e1e0c1a44a276132f333945b102968"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t initTimer </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>seconds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configures timer. </p>
<dl class="section pre"><dt>Precondition:</dt><dd>ACLK sourced from VLO </dd>
<dd>
VLO has been calibrated; number of VLO counts in one second is in vloFrequency. </dd></dl>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">seconds</td><td>period of the timer. Maximum is 0xFFFF / vloFrequency; or about 4 since VLO varies between 9kHz - 15kHz. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note:</dt><dd>Cannot use <a class="el" href="hal__ek-lm4f120_x_l_8c.html#ae0e1e0c1a44a276132f333945b102968">initTimer()</a> and RGB PWM functions at the same time since they both use the same timer module. </dd>
<dd>
Use a prescaler on timer (e.g. set IDx bits in TACTL register) for longer times. </dd>
<dd>
Maximum prescaling of Timer A is divide by 8. Even longer times can be obtained by prescaling ACLK if this doesn't affect other system peripherals. </dd></dl>
<dl class="section return"><dt>Returns:</dt><dd>0 if success; -1 if illegal parameter or -2 if VLO not calibrated </dd></dl>

</div>
</div>
<a class="anchor" id="a36b1f5df38495d059d4e1c541879b8ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oscInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes Oscillator: turns off WDT, configures MCLK to 8MHz using internal DCO and sets SMCLK to 4MHz </p>

</div>
</div>
<a class="anchor" id="a30a6a305ab51297fa0e5020249726b20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__interrupt void PORT1_ISR </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Port 1 interrupt service routine, called when an interrupt-enabled pin on port 1 changes state. </p>

</div>
</div>
<a class="anchor" id="a6ddfaf32b7620184897c858c576dc5a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__interrupt void PORT2_ISR </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Port 2 interrupt service routine, called when an interrupt-enabled pin on port 2 changes state. </p>

</div>
</div>
<a class="anchor" id="a88989ee5b8e22c8824a6998cebeb41ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void portInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes Ports/Pins: sets direction, interrupts, pullup/pulldown resistors etc. </p>

</div>
</div>
<a class="anchor" id="af4de2514b7778805db3815e8dd6cf09a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int putchar </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Declaration so we can use this inside <a class="el" href="hal__launchpad_8c.html" title="Hardware Abstraction Layer (HAL) for the TI LaunchPad and Anaren Zigbee BoosterPack.">hal_launchpad.c</a> for debugging</p>
<p>Send one byte via hardware UART. Required for printf() etc. in stdio.h </p>

</div>
</div>
<a class="anchor" id="a232a48849e2aa6234fe5743e85a3b222"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t setLed </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>led</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Turns ON the specified LED. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">led</td><td>the LED to turn on </td></tr>
  </table>
  </dd>
</dl>
<dl class="section post"><dt>Postcondition:</dt><dd>The specified LED is turned on. </dd></dl>
<dl class="section return"><dt>Returns:</dt><dd>0 if success, -1 if invalid LED specified </dd></dl>

</div>
</div>
<a class="anchor" id="a4233504ee293a37f0c0ee7670da4f9f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spiWrite </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>numBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends a message over SPI to the Module. The Module uses a "write-to-read" approach: to read data out, you must write data in. This is a private function that gets wrapped by other methods, e.g. spiSreq(), spiAreq, etc. To Write, set *bytes and numBytes. To Read, set *bytes only. Don't need to set numBytes because the Module will stop when no more bytes are received. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">bytes</td><td>the data to be sent or received. </td></tr>
    <tr><td class="paramname">numBytes</td><td>the number of bytes to be sent. This same buffer will be overwritten with the received data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition:</dt><dd>SPI port configured for the Module and Module has been initialized properly </dd></dl>
<dl class="section post"><dt>Postcondition:</dt><dd>bytes contains received data, if any </dd></dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="zm__phy__spi_8c.html" title="Physical Interface Layer to the Module using the Serial Peripheral Interface (SPI) port...">zm_phy_spi.c</a> </dd></dl>
<dl class="section note"><dt>Note:</dt><dd>this function is not required if using the UART to communicate with the module </dd></dl>

</div>
</div>
<a class="anchor" id="aa6f6bfef028c7b053444cbd48567d286"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stopTimer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Halts the timer. Leaves period unchanged. </p>

</div>
</div>
<a class="anchor" id="abd56b9af5c5095f207b79b18e07c547c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__interrupt void Timer_A0 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Interrupt Service Routine called by Timer A0. May wakeup processor based on value of wakeupFlags. </p>

</div>
</div>
<a class="anchor" id="ad984c42c66f7012b1b5c9b18a4e5218d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t toggleLed </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>led</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Toggles the specified LED. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">led</td><td>the LED to toggle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section post"><dt>Postcondition:</dt><dd>The specified LED is toggled. </dd></dl>
<dl class="section return"><dt>Returns:</dt><dd>0 if success, -1 if invalid LED specified </dd></dl>

</div>
</div>
<a class="anchor" id="a1c27b12dfd9998dbc915bee092a83447"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__interrupt void USCIAB0RX_ISR </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Debug console interrupt service routine, called when a byte is received on USCIB0. </p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ac788093c014413b5b43a115745bc6d29"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* buttonIsr)(int8_t)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function pointer for the ISR called when the button is pressed. Parameter is which button was pressed. </p>

</div>
</div>
<a class="anchor" id="a8ea0277788bcfa3a8c78da5ae61abff4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* debugConsoleIsr)(int8_t)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a function pointer for the Interrupt Service Routine called when a debug console character is received. To use it, declare it with <code> extern void (*debugConsoleIsr)(char); </code> and then point it to a function you created, e.g. <code> debugConsoleIsr =  </code> and your function <a class="el" href="example__network__explorer_8c.html#a380fc05105ca76598ce5f0d5337ce19c">handleDebugConsoleInterrupt()</a> will be called when a byte is received on the debug serial port. </p>

</div>
</div>
<a class="anchor" id="a20e13adfc540d264097a7733c36d65a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* srdyIsr)(void)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function pointer for the ISR called when a SRDY interrupt occurs </p>

</div>
</div>
<a class="anchor" id="a64c079d31afe7d2e4d7bd2822c8cebb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* sysTickIsr)(void)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function pointer for the ISR called when a sysTick interrupt occurs </p>

</div>
</div>
<a class="anchor" id="aaf473d7d866976957729b47a5554a4ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* timerIsr)(void)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function pointer for the ISR called when a timer generates an interrupt </p>

</div>
</div>
<a class="anchor" id="a192b1c65dd338966842225b5afcdff84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t vloFrequency = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The post-calibrated frequency of the Very Low Oscillator (VLO). This MUST be calibrated by <a class="el" href="hal__ek-lm4f120_x_l_8c.html#a14df2a9ef70dacfe536dca20da0c41b0">calibrateVlo()</a> prior to use. Set with <a class="el" href="hal__ek-lm4f120_x_l_8c.html#a14df2a9ef70dacfe536dca20da0c41b0">calibrateVlo()</a> and read by <a class="el" href="hal__ek-lm4f120_x_l_8c.html#ae0e1e0c1a44a276132f333945b102968">initTimer()</a>. </p>

</div>
</div>
<a class="anchor" id="acd982f0226c803dec387c98b2c033e84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t wakeupFlags = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flags to indicate when to wake up the processor. These are read in the various ISRs. If the flag is set then the processor will be woken up with HAL_WAKEUP() at the end of the ISR. This is required because HAL_WAKEUP() cannot be called anywhere except in an ISR. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 22 2014 11:10:33 for Zigbee Module Examples by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.1
</small></address>
</body>
</html>
