<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Zigbee Module Examples: HAL/hal_gw1.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Zigbee Module Examples
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d2c8373d15d2dccc509742e7e07c05d9.html">HAL</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">hal_gw1.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Hardware Abstraction Layer (HAL) for the Zigbee to Ethernet Gateway GW-0.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;inc/hw_ints.h&quot;</code><br/>
<code>#include &quot;inc/hw_memmap.h&quot;</code><br/>
<code>#include &quot;inc/hw_nvic.h&quot;</code><br/>
<code>#include &quot;inc/hw_types.h&quot;</code><br/>
<code>#include &quot;inc/hw_ssi.h&quot;</code><br/>
<code>#include &quot;inc/hw_i2c.h&quot;</code><br/>
<code>#include &quot;driverlib/ethernet.h&quot;</code><br/>
<code>#include &quot;driverlib/flash.h&quot;</code><br/>
<code>#include &quot;driverlib/gpio.h&quot;</code><br/>
<code>#include &quot;driverlib/ssi.h&quot;</code><br/>
<code>#include &quot;driverlib/i2c.h&quot;</code><br/>
<code>#include &quot;driverlib/interrupt.h&quot;</code><br/>
<code>#include &quot;driverlib/uart.h&quot;</code><br/>
<code>#include &quot;driverlib/systick.h&quot;</code><br/>
<code>#include &quot;hal_gw1.h&quot;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &quot;utils/uartstdio.h&quot;</code><br/>
<code>#include &quot;utils/ustdlib.h&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:acbcb9917c1521c3890efc8dd90bb0440"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acbcb9917c1521c3890efc8dd90bb0440"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BUTTON_EXT_PRESSED</b>&#160;&#160;&#160;(<a class="el" href="group__gpio__api.html#ga97225829b669d27fb53bf01e5771fb5b">GPIOPinRead</a>(GPIO_PORTF_BASE, GPIO_PIN_1))</td></tr>
<tr class="memitem:af4d8aa8f1afde060371bfbd2b916a332"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af4d8aa8f1afde060371bfbd2b916a332"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BUTTON_INT_PRESSED</b>&#160;&#160;&#160;(<a class="el" href="group__gpio__api.html#ga97225829b669d27fb53bf01e5771fb5b">GPIOPinRead</a>(GPIO_PORTE_BASE, GPIO_PIN_3))</td></tr>
<tr class="memitem:a4c4ae9a4146ce8d6a5debc90300d9abd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4c4ae9a4146ce8d6a5debc90300d9abd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NUM_LEDS</b>&#160;&#160;&#160;5</td></tr>
<tr class="memitem:afd3a6ed4e9fcc758dd9583931e560b2c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afd3a6ed4e9fcc758dd9583931e560b2c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BOOTLOADER_START_ADDRESS</b>&#160;&#160;&#160;0x0000</td></tr>
<tr class="memitem:a3cd1c5fb530c5758a80413ee8611d70b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3cd1c5fb530c5758a80413ee8611d70b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>APPLICATION_START_ADDRESS</b>&#160;&#160;&#160;0x1000</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a555c96f2449b1a7cbb4c9a799319c0e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__gw1_8c.html#a555c96f2449b1a7cbb4c9a799319c0e3">doNothing</a> (int8_t a)</td></tr>
<tr class="memitem:abbd75ad6fe1f975a544131cdf8d71287"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__gw1_8c.html#abbd75ad6fe1f975a544131cdf8d71287">delayMs</a> (uint16_t ms)</td></tr>
<tr class="memitem:a36b1f5df38495d059d4e1c541879b8ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__gw1_8c.html#a36b1f5df38495d059d4e1c541879b8ad">oscInit</a> ()</td></tr>
<tr class="memitem:a70a9099a2a2fb7d37683fcc7200fee73"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a70a9099a2a2fb7d37683fcc7200fee73"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>portInit2</b> ()</td></tr>
<tr class="memitem:a88989ee5b8e22c8824a6998cebeb41ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__gw1_8c.html#a88989ee5b8e22c8824a6998cebeb41ce">portInit</a> ()</td></tr>
<tr class="memitem:abc6c00d8d65f1bed6f2ce307998dada0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__gw1_8c.html#abc6c00d8d65f1bed6f2ce307998dada0">halInit</a> ()</td></tr>
<tr class="memitem:a7e87bcf5efb698825364df3797228bfd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__gw1_8c.html#a7e87bcf5efb698825364df3797228bfd">IntGPIOe</a> (void)</td></tr>
<tr class="memitem:a7391c88a44345e07b8fd3bd5f6962783"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__gw1_8c.html#a7391c88a44345e07b8fd3bd5f6962783">IntGPIOf</a> (void)</td></tr>
<tr class="memitem:a8d7cfdfba7b09039ff0837e74e2af42e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8d7cfdfba7b09039ff0837e74e2af42e"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>buttonIsPressed</b> (const uint8_t button)</td></tr>
<tr class="memitem:a5f20afdae0772eda43297b48e70ebffd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__gw1_8c.html#a5f20afdae0772eda43297b48e70ebffd">halDisableModuleInterface</a> ()</td></tr>
<tr class="memitem:a9bb3657512d4f6d7e02e485cd836153a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__gw1_8c.html#a9bb3657512d4f6d7e02e485cd836153a">UARTIntHandler</a> (void)</td></tr>
<tr class="memitem:ad984c42c66f7012b1b5c9b18a4e5218d"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__gw1_8c.html#ad984c42c66f7012b1b5c9b18a4e5218d">toggleLed</a> (uint8_t led)</td></tr>
<tr class="memitem:a845b9c686c86518511f5e156152b5e3b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a845b9c686c86518511f5e156152b5e3b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>softwareControlEthernetLeds</b> ()</td></tr>
<tr class="memitem:a3c40002b2b4822d6a0a9c91647f77169"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3c40002b2b4822d6a0a9c91647f77169"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>hardwareControlEthernetLeds</b> ()</td></tr>
<tr class="memitem:aa17256bf730cc0373184d592b08931ac"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa17256bf730cc0373184d592b08931ac"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setEthernetLeds</b> ()</td></tr>
<tr class="memitem:a3572697e626544388ee54d91d16c71f7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3572697e626544388ee54d91d16c71f7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>clearEthernetLeds</b> ()</td></tr>
<tr class="memitem:a232a48849e2aa6234fe5743e85a3b222"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__gw1_8c.html#a232a48849e2aa6234fe5743e85a3b222">setLed</a> (uint8_t led)</td></tr>
<tr class="memitem:a41737d11c2f052624d53cbe726db88fd"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__gw1_8c.html#a41737d11c2f052624d53cbe726db88fd">clearLed</a> (uint8_t led)</td></tr>
<tr class="memitem:a5801a13917aa5f680d836b0543c4100b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__gw1_8c.html#a5801a13917aa5f680d836b0543c4100b">clearLeds</a> ()</td></tr>
<tr class="memitem:a3d8659694ed715ee324a4d3ed39b36f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__gw1_8c.html#a3d8659694ed715ee324a4d3ed39b36f8">halSpiInitModule</a> ()</td></tr>
<tr class="memitem:a8653a168989b0498a6bbfe865150d58c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__gw1_8c.html#a8653a168989b0498a6bbfe865150d58c">spiWrite</a> (unsigned char *bytes, unsigned char numBytes)</td></tr>
<tr class="memitem:a69e6b2b846ef0b13b563e3895e57a7d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__gw1_8c.html#a69e6b2b846ef0b13b563e3895e57a7d2">halSwitchToBootloader</a> ()</td></tr>
<tr class="memitem:a97b6ba64a8789ead8ec3f66e27fc5414"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__gw1_8c.html#a97b6ba64a8789ead8ec3f66e27fc5414">halCheckForBootloader</a> ()</td></tr>
<tr class="memitem:ae02ba35ff2223184baa887885ade4e74"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae02ba35ff2223184baa887885ade4e74"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>halCheckForApplication</b> ()</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8ea0277788bcfa3a8c78da5ae61abff4"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__gw1_8c.html#a8ea0277788bcfa3a8c78da5ae61abff4">debugConsoleIsr</a> )(int8_t)</td></tr>
<tr class="memitem:ac788093c014413b5b43a115745bc6d29"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__gw1_8c.html#ac788093c014413b5b43a115745bc6d29">buttonIsr</a> )(int8_t)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Hardware Abstraction Layer (HAL) for the Zigbee to Ethernet Gateway GW-0. </p>
<p>public methods for <a class="el" href="hal__gw1_8c.html" title="Hardware Abstraction Layer (HAL) for the Zigbee to Ethernet Gateway GW-0.">hal_gw1.c</a></p>
<p>Tools to interact with the GW-0 onboard peripherals for Module interface. The Gw0 is a Zigbee to Ethernet gateway based on the TI LM3S6965 Arm Cortex-M3 processor. Since the GW-0 is an existing Stellaris Project with a Module "grafted in", things are a little different here.</p>
<p>The Module library &amp; examples require the following methods to be implemented. Refer to individual method descriptions for more information.</p>
<ul>
<li><a class="el" href="hal__ek-lm4f120_x_l_8c.html#abc6c00d8d65f1bed6f2ce307998dada0">halInit()</a> //Not implemented, handled elsewhere in the project</li>
<li><a class="el" href="printf_8c.html#af4de2514b7778805db3815e8dd6cf09a">putchar()</a> //Not implemented, handled elsewhere in the project</li>
<li>halSpiInit()</li>
<li><a class="el" href="hal__ek-lm4f120_x_l_8c.html#abbd75ad6fe1f975a544131cdf8d71287">delayMs()</a></li>
<li>halResetModule()</li>
<li><a class="el" href="hal__ek-lm4f120_x_l_8c.html#ad984c42c66f7012b1b5c9b18a4e5218d">toggleLed()</a></li>
</ul>
<p>Copyright (c) 2012 Tesla Controls. All rights reserved. Redistribution and use in source and binary forms, with or without modification, are permitted only if used solely and exclusively with an Anaren Zigbee 2007 Module. Refer to the file "eula.txt" for additional restrictions and limitations on this Software.</p>
<dl class="section rcs"><dt>Rev:</dt><dd>1863 </dd></dl>
<dl class="section rcs"><dt>Author:</dt><dd>dsmith </dd></dl>
<dl class="section rcs"><dt>Date:</dt><dd>2013-06-13 15:23:41 -0700 (Thu, 13 Jun 2013) </dd></dl>
<dl class="section rcs"><dt>Rev:</dt><dd>1916 </dd></dl>
<dl class="section rcs"><dt>Author:</dt><dd>dsmith </dd></dl>
<dl class="section rcs"><dt>Date:</dt><dd>2013-09-26 17:42:19 -0700 (Thu, 26 Sep 2013) </dd></dl>
<p>(c) 2012 Tesla Controls. All Rights Reserved. Proprietary and Confidential.</p>
<p>Copyright (c) 2012 Tesla Controls. All rights reserved. Redistribution and use in source and binary forms, with or without modification, are permitted only if used solely and exclusively with an Anaren Zigbee 2007 Module. Refer to the file "eula.txt" for additional restrictions and limitations on this Software. </p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a41737d11c2f052624d53cbe726db88fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t clearLed </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>led</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Turns OFF the specified LED. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">led</td><td>the LED to turn off </td></tr>
  </table>
  </dd>
</dl>
<dl class="section post"><dt>Postcondition:</dt><dd>The specified LED is turned off. </dd></dl>
<dl class="section return"><dt>Returns:</dt><dd>0 if success, -1 if invalid LED specified </dd></dl>

</div>
</div>
<a class="anchor" id="a5801a13917aa5f680d836b0543c4100b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clearLeds </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Turns OFF LEDs. </p>
<dl class="section post"><dt>Postcondition:</dt><dd>LEDs are turned off. </dd></dl>

</div>
</div>
<a class="anchor" id="abbd75ad6fe1f975a544131cdf8d71287"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void delayMs </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Blocking Delay in Milliseconds - delays by at least the specified number of milliseconds (mSec) </p>
<dl class="section pre"><dt>Precondition:</dt><dd><a class="el" href="group__sysctl__api.html#gab9c9f4e4588e1e9c5b42e3c3b109e5c1">SysCtlClockSet()</a> has been called to set the processor clock rate </dd></dl>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">ms</td><td>number of milliseconds to delay </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note:</dt><dd>since the processor has other tasks, don't use this very often, if ever! </dd></dl>

</div>
</div>
<a class="anchor" id="a555c96f2449b1a7cbb4c9a799319c0e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void doNothing </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Simple placeholder function to point the function pointers to so that they don't cause mischief </p>

</div>
</div>
<a class="anchor" id="a97b6ba64a8789ead8ec3f66e27fc5414"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t halCheckForBootloader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns:</dt><dd>0 if no bootloader, or 1 if bootloader is indeed present. </dd></dl>

</div>
</div>
<a class="anchor" id="a5f20afdae0772eda43297b48e70ebffd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halDisableModuleInterface </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets module IOs to be INPUTs so an external programmer can communicate with the module PC4 = Chip Select PD5 = MRST PA2,4,5 = SPI Signals </p>

</div>
</div>
<a class="anchor" id="abc6c00d8d65f1bed6f2ce307998dada0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section note"><dt>Note:</dt><dd>It takes five clock cycles after <a class="el" href="group__sysctl__api.html#ga2fbae61db465e1d861a62785d28e3ad6">SysCtlPeripheralEnable()</a> is called to enable a peripheral before the the peripheral is actually enabled. During this time, attempts to access the peripheral will result in a bus fault. Care should be taken to ensure that the peripheral is not accessed during this brief time period. </dd></dl>

</div>
</div>
<a class="anchor" id="a3d8659694ed715ee324a4d3ed39b36f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halSpiInitModule </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the Serial Peripheral Interface (SPI) interface to the Zigbee Module (ZM). </p>
<dl class="section note"><dt>Note:</dt><dd>Maximum module SPI clock speed is 4MHz. SPI port configured for clock polarity of 0, clock phase of 0, and MSB first. </dd>
<dd>
On the GW the Stellaris uses SSI0 to communicate with module </dd></dl>
<dl class="section pre"><dt>Precondition:</dt><dd>SPI pins configured correctly:<ul>
<li>Clock, MOSI, MISO configured as SPI function</li>
<li>Chip Select configured as an output</li>
<li>SRDY configured as an input. </li>
</ul>
</dd></dl>
<dl class="section post"><dt>Postcondition:</dt><dd>SPI port is configured for communications with the module. </dd></dl>

</div>
</div>
<a class="anchor" id="a69e6b2b846ef0b13b563e3895e57a7d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halSwitchToBootloader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Turn off interrupt sources that may interrupt us (SysTick and Ethernet) and then switch control to the Boot Loader. This will never return! </p>

</div>
</div>
<a class="anchor" id="a7e87bcf5efb698825364df3797228bfd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IntGPIOe </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Port E interrupt service routine
</pre> <dl class="section note"><dt>Note:</dt><dd>Must be configured in startup_ccs.c or else will not be called. </dd></dl>

</div>
</div>
<a class="anchor" id="a7391c88a44345e07b8fd3bd5f6962783"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IntGPIOf </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Port F interrupt service routine
</pre> <dl class="section note"><dt>Note:</dt><dd>Must be configured in startup_ccs.c or else will not be called. </dd></dl>

</div>
</div>
<a class="anchor" id="a36b1f5df38495d059d4e1c541879b8ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oscInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes Oscillator: turns off WDT, configures MCLK to 25MHz using internal PLL </p>

</div>
</div>
<a class="anchor" id="a88989ee5b8e22c8824a6998cebeb41ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void portInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes Ports/Pins: sets direction, interrupts, pullup/pulldown resistors etc. </p>

</div>
</div>
<a class="anchor" id="a232a48849e2aa6234fe5743e85a3b222"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t setLed </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>led</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Turns ON the specified LED. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">led</td><td>the LED to turn on </td></tr>
  </table>
  </dd>
</dl>
<dl class="section post"><dt>Postcondition:</dt><dd>The specified LED is turned on. </dd></dl>
<dl class="section return"><dt>Returns:</dt><dd>0 if success, -1 if invalid LED specified </dd></dl>

</div>
</div>
<a class="anchor" id="a8653a168989b0498a6bbfe865150d58c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spiWrite </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>numBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends a message over SPI to the Module on USCI_B1. SPI uses a "write-to-read" approach to read data out, you must write data in. This is a private method that gets wrapped by other methods, e.g. spiSreq(), spiPoll(), etc. To Write, set *bytes, numBytes. To Read, set *bytes only. Don't need to set numBytes because Module will stop when no more bytes read. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">bytes</td><td>the data to be sent or received. </td></tr>
    <tr><td class="paramname">numBytes</td><td>the number of bytes to be sent. This same buffer will be overwritten with the received data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note:</dt><dd>Modify this method for other hardware implementations. </dd></dl>
<dl class="section pre"><dt>Precondition:</dt><dd>SPI port configured for writing </dd>
<dd>
Module has been initialized </dd></dl>
<dl class="section post"><dt>Postcondition:</dt><dd>bytes contains received data, if any </dd></dl>
<dl class="section see"><dt>See also:</dt><dd>Stellaris Application Note spma002.pdf, "Adding 32kB of Serial SRAM to a Stellaris Microcontroller" </dd></dl>

</div>
</div>
<a class="anchor" id="ad984c42c66f7012b1b5c9b18a4e5218d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t toggleLed </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>led</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Toggles the specified LED. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">led</td><td>the LED to toggle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section post"><dt>Postcondition:</dt><dd>The specified LED is toggled. </dd></dl>
<dl class="section return"><dt>Returns:</dt><dd>0 if success, -1 if invalid LED specified </dd></dl>

</div>
</div>
<a class="anchor" id="a9bb3657512d4f6d7e02e485cd836153a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UARTIntHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Debug console interrupt service routine, called when a byte is received on UART. </p>
<dl class="section pre"><dt>Precondition:</dt><dd>In startup_ccs.c, UARTIntHandler is set as the ISR for the UART0 Rx and Tx interrupt </dd>
<dd>
In startup_ccs.c, this function is declared, e.g: <pre>
 extern void <a class="el" href="hal__gw1_8c.html#a9bb3657512d4f6d7e02e485cd836153a">UARTIntHandler(void)</a>;
 </pre> </dd>
<dd>
Interrupts have been enabled, e.g: <pre>
 IntMasterEnable();
 IntEnable(INT_UART0);
 UARTIntEnable(UART0_BASE, UART_INT_RX | UART_INT_RT);
 </pre> </dd>
<dd>
UART has been configured </dd></dl>
<dl class="section post"><dt>Postcondition:</dt><dd>a byte received on the UART will result in <a class="el" href="hal__ek-lm4f120_x_l_8c.html#a8ea0277788bcfa3a8c78da5ae61abff4">debugConsoleIsr()</a> function pointer called </dd></dl>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ac788093c014413b5b43a115745bc6d29"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* buttonIsr)(int8_t)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Function pointer for the ISR called when the button is pressed.
</pre><p> Parameter is which button was pressed. </p>

</div>
</div>
<a class="anchor" id="a8ea0277788bcfa3a8c78da5ae61abff4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* debugConsoleIsr)(int8_t)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This is a function pointer for the Interrupt Service Routine called when a debug console
</pre><p> character is received. To use it, declare it with <code> extern void (*debugConsoleIsr)(int8_t); </code> and then point it to a function you created, e.g. <code> debugConsoleIsr =  </code> and your function <a class="el" href="example__network__explorer_8c.html#a380fc05105ca76598ce5f0d5337ce19c">handleDebugConsoleInterrupt()</a> will be called when a byte is received on the debug serial port. Obviously your handleDebugConsoleInterrupt must have the same method signature as the function pointer. In other words, your function should be declared as: void <a class="el" href="example__write__nonvolatile__memory_8c.html#a380fc05105ca76598ce5f0d5337ce19c">handleDebugConsoleInterrupt(int8_t)</a>; </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 22 2014 11:10:33 for Zigbee Module Examples by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.1
</small></address>
</body>
</html>
