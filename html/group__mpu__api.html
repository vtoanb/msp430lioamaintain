<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Zigbee Module Examples: Mpu_api</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Zigbee Module Examples
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Mpu_api</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga16c52787707bbfe428269741396cd79d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mpu__api.html#ga16c52787707bbfe428269741396cd79d">MPUEnable</a> (uint32_t ui32MPUConfig)</td></tr>
<tr class="memitem:gae98f222992a05f9a0feae96f933dd69d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mpu__api.html#gae98f222992a05f9a0feae96f933dd69d">MPUDisable</a> (void)</td></tr>
<tr class="memitem:ga2913870e26a377e1407e1c87ba2c7021"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mpu__api.html#ga2913870e26a377e1407e1c87ba2c7021">MPURegionCountGet</a> (void)</td></tr>
<tr class="memitem:ga17918fcd1ac15cb5456d7ae3ad388aaa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mpu__api.html#ga17918fcd1ac15cb5456d7ae3ad388aaa">MPURegionEnable</a> (uint32_t ui32Region)</td></tr>
<tr class="memitem:ga36b1830b3d7ee909ee8a21a267df5164"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mpu__api.html#ga36b1830b3d7ee909ee8a21a267df5164">MPURegionDisable</a> (uint32_t ui32Region)</td></tr>
<tr class="memitem:ga6134864a66eb0a110320fc98a49c8c57"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mpu__api.html#ga6134864a66eb0a110320fc98a49c8c57">MPURegionSet</a> (uint32_t ui32Region, uint32_t ui32Addr, uint32_t ui32Flags)</td></tr>
<tr class="memitem:ga197e3c9b41e6f05cf91ee618678dea89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mpu__api.html#ga197e3c9b41e6f05cf91ee618678dea89">MPURegionGet</a> (uint32_t ui32Region, uint32_t *pui32Addr, uint32_t *pui32Flags)</td></tr>
<tr class="memitem:ga5f391e2bed9919c3e98ee744d76a5a03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mpu__api.html#ga5f391e2bed9919c3e98ee744d76a5a03">MPUIntRegister</a> (void(*pfnHandler)(void))</td></tr>
<tr class="memitem:ga8bd36f9796c8a112476a11f381cd5c90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mpu__api.html#ga8bd36f9796c8a112476a11f381cd5c90">MPUIntUnregister</a> (void)</td></tr>
<tr class="memitem:gaba9eff5d850faff33526161e431822a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mpu__api.html#gaba9eff5d850faff33526161e431822a2">MPUEnable</a> (unsigned long ulMPUConfig)</td></tr>
<tr class="memitem:ga2c74fe6aece0858f6610424e9610b18c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mpu__api.html#ga2c74fe6aece0858f6610424e9610b18c">MPURegionEnable</a> (unsigned long ulRegion)</td></tr>
<tr class="memitem:gab8dbf14069e23e2ec1254d5825688bc7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mpu__api.html#gab8dbf14069e23e2ec1254d5825688bc7">MPURegionDisable</a> (unsigned long ulRegion)</td></tr>
<tr class="memitem:ga6b5ebdb618cd71191b07b3d3abcdfe4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mpu__api.html#ga6b5ebdb618cd71191b07b3d3abcdfe4b">MPURegionSet</a> (unsigned long ulRegion, unsigned long ulAddr, unsigned long ulFlags)</td></tr>
<tr class="memitem:gabb00a8e0bb445ff6f7276ebc5d0b4a73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mpu__api.html#gabb00a8e0bb445ff6f7276ebc5d0b4a73">MPURegionGet</a> (unsigned long ulRegion, unsigned long *pulAddr, unsigned long *pulFlags)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gae98f222992a05f9a0feae96f933dd69d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MPUDisable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disables the MPU for use.</p>
<p>This function disables the Cortex-M memory protection unit. When the MPU is disabled, the default memory map is used and memory management faults are not generated.</p>
<dl class="section return"><dt>Returns:</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="gaba9eff5d850faff33526161e431822a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MPUEnable </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>ulMPUConfig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables and configures the MPU for use.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">ulMPUConfig</td><td>is the logical OR of the possible configurations.</td></tr>
  </table>
  </dd>
</dl>
<p>This function enables the Cortex-M memory protection unit. It also configures the default behavior when in privileged mode and while handling a hard fault or NMI. Prior to enabling the MPU, at least one region must be set by calling <a class="el" href="group__mpu__api.html#ga6134864a66eb0a110320fc98a49c8c57">MPURegionSet()</a> or else by enabling the default region for privileged mode by passing the <b>MPU_CONFIG_PRIV_DEFAULT</b> flag to <a class="el" href="group__mpu__api.html#ga16c52787707bbfe428269741396cd79d">MPUEnable()</a>. Once the MPU is enabled, a memory management fault is generated for memory access violations.</p>
<p>The <em>ulMPUConfig</em> parameter should be the logical OR of any of the following:</p>
<ul>
<li><b>MPU_CONFIG_PRIV_DEFAULT</b> enables the default memory map when in privileged mode and when no other regions are defined. If this option is not enabled, then there must be at least one valid region already defined when the MPU is enabled.</li>
<li><b>MPU_CONFIG_HARDFLT_NMI</b> enables the MPU while in a hard fault or NMI exception handler. If this option is not enabled, then the MPU is disabled while in one of these exception handlers and the default memory map is applied.</li>
<li><b>MPU_CONFIG_NONE</b> chooses none of the above options. In this case, no default memory map is provided in privileged mode, and the MPU isl not enabled in the fault handlers.</li>
</ul>
<dl class="section return"><dt>Returns:</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="ga16c52787707bbfe428269741396cd79d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MPUEnable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32MPUConfig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables and configures the MPU for use.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32MPUConfig</td><td>is the logical OR of the possible configurations.</td></tr>
  </table>
  </dd>
</dl>
<p>This function enables the Cortex-M memory protection unit. It also configures the default behavior when in privileged mode and while handling a hard fault or NMI. Prior to enabling the MPU, at least one region must be set by calling <a class="el" href="group__mpu__api.html#ga6134864a66eb0a110320fc98a49c8c57">MPURegionSet()</a> or else by enabling the default region for privileged mode by passing the <b>MPU_CONFIG_PRIV_DEFAULT</b> flag to <a class="el" href="group__mpu__api.html#ga16c52787707bbfe428269741396cd79d">MPUEnable()</a>. Once the MPU is enabled, a memory management fault is generated for memory access violations.</p>
<p>The <em>ui32MPUConfig</em> parameter should be the logical OR of any of the following:</p>
<ul>
<li><b>MPU_CONFIG_PRIV_DEFAULT</b> enables the default memory map when in privileged mode and when no other regions are defined. If this option is not enabled, then there must be at least one valid region already defined when the MPU is enabled.</li>
<li><b>MPU_CONFIG_HARDFLT_NMI</b> enables the MPU while in a hard fault or NMI exception handler. If this option is not enabled, then the MPU is disabled while in one of these exception handlers and the default memory map is applied.</li>
<li><b>MPU_CONFIG_NONE</b> chooses none of the above options. In this case, no default memory map is provided in privileged mode, and the MPU is not enabled in the fault handlers.</li>
</ul>
<dl class="section return"><dt>Returns:</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="ga5f391e2bed9919c3e98ee744d76a5a03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MPUIntRegister </td>
          <td>(</td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>pfnHandler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Registers an interrupt handler for the memory management fault.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">pfnHandler</td><td>is a pointer to the function to be called when the memory management fault occurs.</td></tr>
  </table>
  </dd>
</dl>
<p>This function sets and enables the handler to be called when the MPU generates a memory management fault due to a protection region access violation.</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="group__interrupt__api.html#ga0a32aafea7f4904d2a64ee18b45f96c9">IntRegister()</a> for important information about registering interrupt handlers.</dd></dl>
<dl class="section return"><dt>Returns:</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="ga8bd36f9796c8a112476a11f381cd5c90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MPUIntUnregister </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unregisters an interrupt handler for the memory management fault.</p>
<p>This function disables and clears the handler to be called when a memory management fault occurs.</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="group__interrupt__api.html#ga0a32aafea7f4904d2a64ee18b45f96c9">IntRegister()</a> for important information about registering interrupt handlers.</dd></dl>
<dl class="section return"><dt>Returns:</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="ga2913870e26a377e1407e1c87ba2c7021"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long MPURegionCountGet </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the count of regions supported by the MPU.</p>
<p>This function is used to get the total number of regions that are supported by the MPU, including regions that are already programmed.</p>
<dl class="section return"><dt>Returns:</dt><dd>The number of memory protection regions that are available for programming using <a class="el" href="group__mpu__api.html#ga6134864a66eb0a110320fc98a49c8c57">MPURegionSet()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="gab8dbf14069e23e2ec1254d5825688bc7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MPURegionDisable </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>ulRegion</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disables a specific region.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">ulRegion</td><td>is the region number to disable.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to disable a previously enabled memory protection region. The region remains configured if it is not overwritten with another call to <a class="el" href="group__mpu__api.html#ga6134864a66eb0a110320fc98a49c8c57">MPURegionSet()</a>, and can be enabled again by calling <a class="el" href="group__mpu__api.html#ga17918fcd1ac15cb5456d7ae3ad388aaa">MPURegionEnable()</a>.</p>
<dl class="section return"><dt>Returns:</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="ga36b1830b3d7ee909ee8a21a267df5164"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MPURegionDisable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Region</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disables a specific region.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Region</td><td>is the region number to disable.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to disable a previously enabled memory protection region. The region remains configured if it is not overwritten with another call to <a class="el" href="group__mpu__api.html#ga6134864a66eb0a110320fc98a49c8c57">MPURegionSet()</a>, and can be enabled again by calling <a class="el" href="group__mpu__api.html#ga17918fcd1ac15cb5456d7ae3ad388aaa">MPURegionEnable()</a>.</p>
<dl class="section return"><dt>Returns:</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="ga2c74fe6aece0858f6610424e9610b18c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MPURegionEnable </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>ulRegion</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables a specific region.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">ulRegion</td><td>is the region number to enable.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to enable a memory protection region. The region should already be configured with the <a class="el" href="group__mpu__api.html#ga6134864a66eb0a110320fc98a49c8c57">MPURegionSet()</a> function. Once enabled, the memory protection rules of the region are applied and access violations cause a memory management fault.</p>
<dl class="section return"><dt>Returns:</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="ga17918fcd1ac15cb5456d7ae3ad388aaa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MPURegionEnable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Region</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables a specific region.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Region</td><td>is the region number to enable.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to enable a memory protection region. The region should already be configured with the <a class="el" href="group__mpu__api.html#ga6134864a66eb0a110320fc98a49c8c57">MPURegionSet()</a> function. Once enabled, the memory protection rules of the region are applied and access violations cause a memory management fault.</p>
<dl class="section return"><dt>Returns:</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="ga197e3c9b41e6f05cf91ee618678dea89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MPURegionGet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pui32Addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the current settings for a specific region.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Region</td><td>is the region number to get. </td></tr>
    <tr><td class="paramname">pui32Addr</td><td>points to storage for the base address of the region. </td></tr>
    <tr><td class="paramname">pui32Flags</td><td>points to the attribute flags for the region.</td></tr>
  </table>
  </dd>
</dl>
<p>This function retrieves the configuration of a specific region. The meanings and format of the parameters is the same as that of the <a class="el" href="group__mpu__api.html#ga6134864a66eb0a110320fc98a49c8c57">MPURegionSet()</a> function.</p>
<p>This function can be used to save the configuration of a region for later use with the <a class="el" href="group__mpu__api.html#ga6134864a66eb0a110320fc98a49c8c57">MPURegionSet()</a> function. The region's enable state is preserved in the attributes that are saved.</p>
<dl class="section return"><dt>Returns:</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="gabb00a8e0bb445ff6f7276ebc5d0b4a73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MPURegionGet </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>ulRegion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>pulAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>pulFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the current settings for a specific region.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">ulRegion</td><td>is the region number to get. </td></tr>
    <tr><td class="paramname">pulAddr</td><td>points to storage for the base address of the region. </td></tr>
    <tr><td class="paramname">pulFlags</td><td>points to the attribute flags for the region.</td></tr>
  </table>
  </dd>
</dl>
<p>This function retrieves the configuration of a specific region. The meanings and format of the parameters is the same as that of the <a class="el" href="group__mpu__api.html#ga6134864a66eb0a110320fc98a49c8c57">MPURegionSet()</a> function.</p>
<p>This function can be used to save the configuration of a region for later use with the <a class="el" href="group__mpu__api.html#ga6134864a66eb0a110320fc98a49c8c57">MPURegionSet()</a> function. The region's enable state is preserved in the attributes that are saved.</p>
<dl class="section return"><dt>Returns:</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6b5ebdb618cd71191b07b3d3abcdfe4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MPURegionSet </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>ulRegion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>ulAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>ulFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets up the access rules for a specific region.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">ulRegion</td><td>is the region number to set up. </td></tr>
    <tr><td class="paramname">ulAddr</td><td>is the base address of the region. It must be aligned according to the size of the region specified in ulFlags. </td></tr>
    <tr><td class="paramname">ulFlags</td><td>is a set of flags to define the attributes of the region.</td></tr>
  </table>
  </dd>
</dl>
<p>This function sets up the protection rules for a region. The region has a base address and a set of attributes including the size. The base address parameter, <em>ulAddr</em>, must be aligned according to the size, and the size must be a power of 2.</p>
<p>The <em>ulFlags</em> parameter is the logical OR of all of the attributes of the region. It is a combination of choices for region size, execute permission, read/write permissions, disabled sub-regions, and a flag to determine if the region is enabled.</p>
<p>The size flag determines the size of a region and must be one of the following:</p>
<ul>
<li><b>MPU_RGN_SIZE_32B</b> </li>
<li><b>MPU_RGN_SIZE_64B</b> </li>
<li><b>MPU_RGN_SIZE_128B</b> </li>
<li><b>MPU_RGN_SIZE_256B</b> </li>
<li><b>MPU_RGN_SIZE_512B</b> </li>
<li><b>MPU_RGN_SIZE_1K</b> </li>
<li><b>MPU_RGN_SIZE_2K</b> </li>
<li><b>MPU_RGN_SIZE_4K</b> </li>
<li><b>MPU_RGN_SIZE_8K</b> </li>
<li><b>MPU_RGN_SIZE_16K</b> </li>
<li><b>MPU_RGN_SIZE_32K</b> </li>
<li><b>MPU_RGN_SIZE_64K</b> </li>
<li><b>MPU_RGN_SIZE_128K</b> </li>
<li><b>MPU_RGN_SIZE_256K</b> </li>
<li><b>MPU_RGN_SIZE_512K</b> </li>
<li><b>MPU_RGN_SIZE_1M</b> </li>
<li><b>MPU_RGN_SIZE_2M</b> </li>
<li><b>MPU_RGN_SIZE_4M</b> </li>
<li><b>MPU_RGN_SIZE_8M</b> </li>
<li><b>MPU_RGN_SIZE_16M</b> </li>
<li><b>MPU_RGN_SIZE_32M</b> </li>
<li><b>MPU_RGN_SIZE_64M</b> </li>
<li><b>MPU_RGN_SIZE_128M</b> </li>
<li><b>MPU_RGN_SIZE_256M</b> </li>
<li><b>MPU_RGN_SIZE_512M</b> </li>
<li><b>MPU_RGN_SIZE_1G</b> </li>
<li><b>MPU_RGN_SIZE_2G</b> </li>
<li><b>MPU_RGN_SIZE_4G</b> </li>
</ul>
<p>The execute permission flag must be one of the following:</p>
<ul>
<li><b>MPU_RGN_PERM_EXEC</b> enables the region for execution of code</li>
<li><b>MPU_RGN_PERM_NOEXEC</b> disables the region for execution of code</li>
</ul>
<p>The read/write access permissions are applied separately for the privileged and user modes. The read/write access flags must be one of the following:</p>
<ul>
<li><b>MPU_RGN_PERM_PRV_NO_USR_NO</b> - no access in privileged or user mode</li>
<li><b>MPU_RGN_PERM_PRV_RW_USR_NO</b> - privileged read/write, user no access</li>
<li><b>MPU_RGN_PERM_PRV_RW_USR_RO</b> - privileged read/write, user read-only</li>
<li><b>MPU_RGN_PERM_PRV_RW_USR_RW</b> - privileged read/write, user read/write</li>
<li><b>MPU_RGN_PERM_PRV_RO_USR_NO</b> - privileged read-only, user no access</li>
<li><b>MPU_RGN_PERM_PRV_RO_USR_RO</b> - privileged read-only, user read-only</li>
</ul>
<p>The region is automatically divided into 8 equally-sized sub-regions by the MPU. Sub-regions can only be used in regions of size 256 bytes or larger. Any of these 8 sub-regions can be disabled, allowing for creation of ``holes'' in a region which can be left open, or overlaid by another region with different attributes. Any of the 8 sub-regions can be disabled with a logical OR of any of the following flags:</p>
<ul>
<li><b>MPU_SUB_RGN_DISABLE_0</b> </li>
<li><b>MPU_SUB_RGN_DISABLE_1</b> </li>
<li><b>MPU_SUB_RGN_DISABLE_2</b> </li>
<li><b>MPU_SUB_RGN_DISABLE_3</b> </li>
<li><b>MPU_SUB_RGN_DISABLE_4</b> </li>
<li><b>MPU_SUB_RGN_DISABLE_5</b> </li>
<li><b>MPU_SUB_RGN_DISABLE_6</b> </li>
<li><b>MPU_SUB_RGN_DISABLE_7</b> </li>
</ul>
<p>Finally, the region can be initially enabled or disabled with one of the following flags:</p>
<ul>
<li><b>MPU_RGN_ENABLE</b> </li>
<li><b>MPU_RGN_DISABLE</b> </li>
</ul>
<p>As an example, to set a region with the following attributes: size of 32 KB, execution enabled, read-only for both privileged and user, one sub-region disabled, and initially enabled; the <em>ulFlags</em> parameter would have the following value:</p>
<p><code> (MPU_RGN_SIZE_32K | MPU_RGN_PERM_EXEC | MPU_RGN_PERM_PRV_RO_USR_RO | MPU_SUB_RGN_DISABLE_2 | MPU_RGN_ENABLE) </code></p>
<dl class="section note"><dt>Note:</dt><dd>This function writes to multiple registers and is not protected from interrupts. It is possible that an interrupt which accesses a region may occur while that region is in the process of being changed. The safest way to handle this is to disable a region before changing it. Refer to the discussion of this in the API Detailed Description section.</dd></dl>
<dl class="section return"><dt>Returns:</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6134864a66eb0a110320fc98a49c8c57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MPURegionSet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets up the access rules for a specific region.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Region</td><td>is the region number to set up. </td></tr>
    <tr><td class="paramname">ui32Addr</td><td>is the base address of the region. It must be aligned according to the size of the region specified in ui32Flags. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>is a set of flags to define the attributes of the region.</td></tr>
  </table>
  </dd>
</dl>
<p>This function sets up the protection rules for a region. The region has a base address and a set of attributes including the size. The base address parameter, <em>ui32Addr</em>, must be aligned according to the size, and the size must be a power of 2.</p>
<p>The <em>ui32Flags</em> parameter is the logical OR of all of the attributes of the region. It is a combination of choices for region size, execute permission, read/write permissions, disabled sub-regions, and a flag to determine if the region is enabled.</p>
<p>The size flag determines the size of a region and must be one of the following:</p>
<ul>
<li><b>MPU_RGN_SIZE_32B</b> </li>
<li><b>MPU_RGN_SIZE_64B</b> </li>
<li><b>MPU_RGN_SIZE_128B</b> </li>
<li><b>MPU_RGN_SIZE_256B</b> </li>
<li><b>MPU_RGN_SIZE_512B</b> </li>
<li><b>MPU_RGN_SIZE_1K</b> </li>
<li><b>MPU_RGN_SIZE_2K</b> </li>
<li><b>MPU_RGN_SIZE_4K</b> </li>
<li><b>MPU_RGN_SIZE_8K</b> </li>
<li><b>MPU_RGN_SIZE_16K</b> </li>
<li><b>MPU_RGN_SIZE_32K</b> </li>
<li><b>MPU_RGN_SIZE_64K</b> </li>
<li><b>MPU_RGN_SIZE_128K</b> </li>
<li><b>MPU_RGN_SIZE_256K</b> </li>
<li><b>MPU_RGN_SIZE_512K</b> </li>
<li><b>MPU_RGN_SIZE_1M</b> </li>
<li><b>MPU_RGN_SIZE_2M</b> </li>
<li><b>MPU_RGN_SIZE_4M</b> </li>
<li><b>MPU_RGN_SIZE_8M</b> </li>
<li><b>MPU_RGN_SIZE_16M</b> </li>
<li><b>MPU_RGN_SIZE_32M</b> </li>
<li><b>MPU_RGN_SIZE_64M</b> </li>
<li><b>MPU_RGN_SIZE_128M</b> </li>
<li><b>MPU_RGN_SIZE_256M</b> </li>
<li><b>MPU_RGN_SIZE_512M</b> </li>
<li><b>MPU_RGN_SIZE_1G</b> </li>
<li><b>MPU_RGN_SIZE_2G</b> </li>
<li><b>MPU_RGN_SIZE_4G</b> </li>
</ul>
<p>The execute permission flag must be one of the following:</p>
<ul>
<li><b>MPU_RGN_PERM_EXEC</b> enables the region for execution of code</li>
<li><b>MPU_RGN_PERM_NOEXEC</b> disables the region for execution of code</li>
</ul>
<p>The read/write access permissions are applied separately for the privileged and user modes. The read/write access flags must be one of the following:</p>
<ul>
<li><b>MPU_RGN_PERM_PRV_NO_USR_NO</b> - no access in privileged or user mode</li>
<li><b>MPU_RGN_PERM_PRV_RW_USR_NO</b> - privileged read/write, user no access</li>
<li><b>MPU_RGN_PERM_PRV_RW_USR_RO</b> - privileged read/write, user read-only</li>
<li><b>MPU_RGN_PERM_PRV_RW_USR_RW</b> - privileged read/write, user read/write</li>
<li><b>MPU_RGN_PERM_PRV_RO_USR_NO</b> - privileged read-only, user no access</li>
<li><b>MPU_RGN_PERM_PRV_RO_USR_RO</b> - privileged read-only, user read-only</li>
</ul>
<p>The region is automatically divided into 8 equally-sized sub-regions by the MPU. Sub-regions can only be used in regions of size 256 bytes or larger. Any of these 8 sub-regions can be disabled, allowing for creation of ``holes'' in a region which can be left open, or overlaid by another region with different attributes. Any of the 8 sub-regions can be disabled with a logical OR of any of the following flags:</p>
<ul>
<li><b>MPU_SUB_RGN_DISABLE_0</b> </li>
<li><b>MPU_SUB_RGN_DISABLE_1</b> </li>
<li><b>MPU_SUB_RGN_DISABLE_2</b> </li>
<li><b>MPU_SUB_RGN_DISABLE_3</b> </li>
<li><b>MPU_SUB_RGN_DISABLE_4</b> </li>
<li><b>MPU_SUB_RGN_DISABLE_5</b> </li>
<li><b>MPU_SUB_RGN_DISABLE_6</b> </li>
<li><b>MPU_SUB_RGN_DISABLE_7</b> </li>
</ul>
<p>Finally, the region can be initially enabled or disabled with one of the following flags:</p>
<ul>
<li><b>MPU_RGN_ENABLE</b> </li>
<li><b>MPU_RGN_DISABLE</b> </li>
</ul>
<p>As an example, to set a region with the following attributes: size of 32 KB, execution enabled, read-only for both privileged and user, one sub-region disabled, and initially enabled; the <em>ui32Flags</em> parameter would have the following value:</p>
<p><code> (MPU_RGN_SIZE_32K | MPU_RGN_PERM_EXEC | MPU_RGN_PERM_PRV_RO_USR_RO | MPU_SUB_RGN_DISABLE_2 | MPU_RGN_ENABLE) </code></p>
<dl class="section note"><dt>Note:</dt><dd>This function writes to multiple registers and is not protected from interrupts. It is possible that an interrupt which accesses a region may occur while that region is in the process of being changed. The safest way to handle this is to disable a region before changing it. Refer to the discussion of this in the API Detailed Description section.</dd></dl>
<dl class="section return"><dt>Returns:</dt><dd>None. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 22 2014 11:10:34 for Zigbee Module Examples by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.1
</small></address>
</body>
</html>
